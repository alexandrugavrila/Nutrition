[alembic]
# Database URL resolution order (handled in Backend/migrations/env.py):
#   1) Command-line:  alembic ... -x dburl="postgresql://..."
#   2) Environment:   DATABASE_URL
#   3) Fallback:      Backend.db.DATABASE_URL
#   4) Final fallback: this value
#
# Keep this pointing at the compose default so standalone Alembic runs have a
# sensible default, but expect it to be overridden in Docker and scripts.
script_location = Backend/migrations
sqlalchemy.url = postgresql://nutrition_user:nutrition_pass@db:5432/nutrition

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine
propagate = 0

[logger_alembic]
level = INFO
handlers =
qualname = alembic
propagate = 0

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
